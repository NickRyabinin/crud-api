<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="description" content="php crud api example - oop, mvc, rest">
  <meta name="keywords" content="php, crud, api, mvc, rest">
  <meta name="author" content="Николай Рябинин">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="Assets/Styles/style.css">
  <title>php crud api</title>
</head>

<body class="bg-green">
  <div class="container">
  <section class="text-white">
    <article class="content">
      <h2>REST-like CRUD API сущностей 'user', 'book' и сущности 'opinion', связанной с 'book' отношением many-to-one</h2>
      <h3>Эндпойнты для сущности "user":</h3>
      <p><h4>POST /users/</h4> - CREATE</p>
      <p>'Регистрация' пользователя - в ответ пользователь получает token, который требуется указывать в заголовке

      <pre>
  Authorization: Bearer {token}
  </pre>

      при любых последующих обращениях к API (кроме GET запросов) для авторизации действий пользователя.</p>
      <pre>
  BODY - JSON {
                  "login": login,
                  "email": email
              }
  </pre>
      <p>Все поля в BODY являются обязательными.</p>
      <p>
        <h4>GET /users/<span class="text-italic">{?page=pageNumber}</span></h4> - READ
        <br>
        <br>
        (Пагинация всех сущностей при выводе проводится группами по 10, поэтому для их просмотра можно указывать параметр строки запроса 'page')
      </p>
      <p><h4>GET /users/<span class="text-italic">{id}</span></h4> - READ <span class="text-italic">{id}</span></p>
      <p><h4>PUT | PATCH /users/<span class="text-italic">{id}</span></h4> - method not allowed</p>
      <p><h4>DELETE /users/</h4> - DELETE</p>
      <p>Пользователь может удалить только себя, id не нужен.</p>
    </article>
    <hr>
    <article class="content">
      <h3>Эндпойнты для сущности "book":</h3>
      <p><h4>POST /books/</h4> - CREATE</p>
      <pre>
  BODY - JSON {
                  "title": title,
                  "author": author,
                  "published_at": year
              }
  </pre>
      <p>Все поля в BODY являются обязательными.</p>
      <p><h4>GET /books/<span class="text-italic">{?page=pageNumber}</span></h4> - READ</p>
      <p><h4>GET /books/<span class="text-italic">{id}</span></h4> - READ <span class="text-italic">{id}</span></p>
      <p><h4>PUT | PATCH /books/<span class="text-italic">{id}</span></h4> - UPDATE</p>
      <pre>
  BODY - JSON {
                  "title": title,
                  "author": author,
                  "published_at": year
              }
  </pre>
      <p>Параметр "id" является обязательным.
        В BODY должно присутствовать минимум одно поле.</p>
      <p><h4>DELETE /books/<span class="text-italic">{id}</span></h4> - DELETE</p>
      <p>Параметр "id" является обязательным.</p>
    </article>
    <hr>
    <article class="content">
      <h3>Эндпойнты для сущности "opinion", связанной с сущностью "book":</h3>
      <p><h4>POST /books/<span class="text-italic">{book_id}</span>/opinions/</h4> - CREATE</p>
      <pre>
  BODY - JSON {
                  "opinion": opinion
              }
  </pre>
      <p>Поле "opinion" является обязательным.</p>
      <p><h4>GET /books/<span class="text-italic">{book_id}</span>/opinions/<span class="text-italic">{?page=pageNumber}</span></h4> - READ</p>
      <p>
        <h4>GET /books/<span class="text-italic">{book_id}</span>/opinions/<span class="text-italic">{opinion_id}</span>
        </h4> - READ <span class="text-italic">{opinion_id}</span>
      </p>
      <p>
        <h4>PUT | PATCH /books/<span class="text-italic">{book_id}</span>/opinions/<span class="text-italic">{opinion_id}</span>
        </h4> - UPDATE
      </p>
      <pre>
  BODY - JSON {
                  "opinion": opinion
              }
  </pre>
      <p>Параметры "book_id" и "opinion_id" являются обязательными.
        В BODY должно присутствовать минимум одно поле.</p>
      <p>
        <h4>DELETE /books/<span class="text-italic">{book_id}</span>/opinions/<span class="text-italic">{opinion_id}</span>
        </h4> - DELETE
      </p>
      <p>Параметры "book_id" и "opinion_id" являются обязательными.</p>
    </article>
  </section>
</div>
</body>

</html>